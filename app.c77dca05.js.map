{"version":3,"sources":["js/app.js"],"names":["galleryItems","preview","original","description","listGallery","document","querySelector","modal","modalImage","modalBtn","modalOverlay","blockPhotoBtnDack","blockPhotoBtnNext","blockPhotoImg","markup","acc","photo","reduce","onModalOpen","evt","preventDefault","target","nodeName","classList","add","src","dataset","source","alt","window","addEventListener","onEscKeyClick","onModalClose","remove","removeEventListener","console","log","code","insertAdjacentHTML","imgSrc","map","elem","imgAlt","onScrollingDack","forEach","index","indexOf","onScrollingNext"],"mappings":";AAAA,MAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAKXC,EAAcC,SAASC,cAAc,eACrCC,EAAQF,SAASC,cAAc,aAC/BE,EAAaH,SAASC,cAAc,oBACpCG,EAAWJ,SAASC,cAAc,qBAClCI,EAAeL,SAASC,cAAc,sBACtCK,EAAoBN,SAASC,cAAc,aAC3CM,EAAoBP,SAASC,cAAc,aAC3CO,EAAgBR,SAASC,cAAc,eAGvCQ,EAAS,CAACC,GAAOd,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,KAAkBY,yDAA6Db,qCAA4CD,iBAAuBC,SAAgBC,0BAEtMa,EAAQhB,EAAaiB,OAAOH,EAAQ,IAM1C,SAASI,EAAYC,GACnBA,EAAIC,iBACwB,QAAxBD,EAAIE,OAAOC,WAKff,EAAMgB,UAAUC,IAAI,WACpBhB,EAAWiB,IAAMN,EAAIE,OAAOK,QAAQC,OACpCnB,EAAWoB,IAAMT,EAAIE,OAAOO,IAC5BC,OAAOC,iBAAiB,UAAWC,GAGnCtB,EAASqB,iBAAiB,QAASE,GACnCtB,EAAaoB,iBAAiB,QAASE,IAGzC,SAASA,EAAab,GAMpBZ,EAAMgB,UAAUU,OAAO,WACvBzB,EAAWiB,IAAM,GACjBjB,EAAWoB,IAAM,GACjBC,OAAOK,oBAAoB,UAAWH,GAGtCtB,EAASyB,oBAAoB,QAASF,GACtCtB,EAAawB,oBAAoB,QAASF,GAK5C,SAASD,EAAcZ,GACrBgB,QAAQC,IAAIjB,EAAIkB,MACC,WAAblB,EAAIkB,MAGRL,IA5CF5B,EAAYkC,mBAAmB,YAAatB,GAiD5C,MAAMuB,EAASvC,EAAawC,IAAIC,GAAQA,EAAKvC,UACvCwC,EAAS1C,EAAawC,IAAIC,GAAQA,EAAKtC,aAE7C,SAASwC,EAAgBxB,GACvBA,EAAIC,iBAEJmB,EAAOK,QAAQH,IACPjC,GAAAA,EAAWiB,MAAQgB,EAAM,CACvBI,IAAAA,EAAQN,EAAOO,QAAQL,IAEZ,KADfI,GAAgB,IAEdrC,EAAWiB,IAAMc,EAAOM,GACxBrC,EAAWoB,IAAMc,EAAOG,IAExBb,OAMV,SAASe,EAAgB5B,GACtBA,EAAIC,iBAEHmB,EAAOK,QAAQH,IACTjC,GAAAA,EAAWiB,MAAQgB,EAAM,CACvBI,IAAAA,EAAQN,EAAOO,QAAQL,GAC3BI,GAAgB,EAChBV,QAAQC,IAAIS,GACE,KAAVA,GACFrC,EAAWiB,IAAMc,EAAOM,GACxBrC,EAAWoB,IAAMc,EAAOG,IAEzBb,OAST5B,EAAY0B,iBAAiB,QAASZ,GACtCP,EAAkBmB,iBAAiB,QAASa,GAC5C/B,EAAkBkB,iBAAiB,QAASiB","file":"app.c77dca05.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\n// добавляем разметку фото в галерею\nconst listGallery = document.querySelector('.js-gallery'); //ссылка на <ul class=\"gallery js-gallery\"></ul>\nconst modal = document.querySelector('.lightbox'); //ссылка на <div class=\"lightbox js-lightbox\">\nconst modalImage = document.querySelector('.lightbox__image');//ссылка на <img class=\"lightbox__image\" src=\"\" alt=\"\" />\nconst modalBtn = document.querySelector('.lightbox__button');\nconst modalOverlay = document.querySelector('.lightbox__overlay');\nconst blockPhotoBtnDack = document.querySelector('.btn-back');\nconst blockPhotoBtnNext = document.querySelector('.btn-next');\nconst blockPhotoImg = document.querySelector(\".photo__img\")\n\n\nconst markup = (acc, { preview, original, description }) => acc + `<li class=\"photo__item\"><a class=\"photo__link\" href=${original}><img class=\"img photo__img\" src=${preview} data-source=${original} alt=${description} width=\"250\"></a></li>`;\n//калбек функцыя которая генерирует стрроку , и переносит значение елементов из galleryItems \nconst photo = galleryItems.reduce(markup, '');//переменая хранит полученую строку от  калбек функцыи\n\nlistGallery.insertAdjacentHTML('beforeend', photo);//добавляем с помощью шаблонной строки сгенерированую строку в переменной photo \n\n//ДЕЛЕГИРОВАНИЕ\n\nfunction onModalOpen(evt) {\n  evt.preventDefault();//Отмена действий по умолчанию\n  if (evt.target.nodeName !== 'IMG') { //зашита от случайного нажатия\n    return;\n  }\n  \n  //РАБОТА С МОДАЛЬНЫМ ОКНОМ\n  modal.classList.add('is-open');//при клике добавляем класс is-open на див lightbox\n  modalImage.src = evt.target.dataset.source; //меняем значение атрибута на ту сылку фото на которое нажали\n  modalImage.alt = evt.target.alt; //меняем значение атрибута alt, на alt фото на которое нажали\n  window.addEventListener('keydown', onEscKeyClick);// слушатель отслеживает действия на клавиатуре\n\n  //------------------------------------------------------------------------------\n  modalBtn.addEventListener('click', onModalClose);//при клике на все кроме фото молдальное окно закроется\n  modalOverlay.addEventListener('click', onModalClose);//при клике на все кроме фото молдальное окно закроется\n};\n\nfunction onModalClose(evt) {\n  // если без кнопки добавить слушателя на модальное окно и поставить зашиту\n  // if (evt.target.nodeName === 'IMG') { //зашита от случайного нажатия \n  //   return;\n  // }\n  \n  modal.classList.remove('is-open');//при клике удаляем класс is-open на диве lightbox\n  modalImage.src = '';//очисчаем значение атрибута\n  modalImage.alt = '';//очисчаем значение атрибута\n  window.removeEventListener('keydown', onEscKeyClick);// снимаем слушателя\n\n  //------------------------------------------------------------------------------\n  modalBtn.removeEventListener('click', onModalClose);//при клике на все кроме фото молдальное окно закроется\n  modalOverlay.removeEventListener('click', onModalClose);//при клике на все кроме фото молдальное окно закроется\n \n};\n\n//закрытие модального окна при нажатии клавиши Esc\nfunction onEscKeyClick(evt) {\n  console.log(evt.code);\n  if (evt.code !== \"Escape\") {\n    return;\n  };\n  onModalClose();\n};\n\n//-------------------------------------------------------------------------------------------------------------------------------------\n// Перегортування зображень галереї у відкритому модальному вікні\nconst imgSrc = galleryItems.map(elem => elem.original);\nconst imgAlt = galleryItems.map(elem => elem.description);\n\nfunction onScrollingDack(evt) {\n  evt.preventDefault();//Отмена действий по умолчанию\n  \n  imgSrc.forEach(elem => {\n      if (modalImage.src === elem) {\n        let index = imgSrc.indexOf(elem);\n        index = index - 1;\n        if (index !== -1) {\n          modalImage.src = imgSrc[index];\n          modalImage.alt = imgAlt[index];\n        } else {\n          onModalClose();\n        }\n      }\n    });\n};\n\nfunction onScrollingNext(evt) {\n   evt.preventDefault();//Отмена действий по умолчанию\n  \n    imgSrc.forEach(elem => {\n      if (modalImage.src === elem) {\n        let index = imgSrc.indexOf(elem);\n        index = index + 1;\n        console.log(index);\n        if (index !== 10) {\n          modalImage.src = imgSrc[index];\n          modalImage.alt = imgAlt[index];\n        } else {\n         onModalClose();\n        }\n        \n      }\n    });\n};\n\n//-------------------------------------------------------------------------------------------------------------------------------------\n\nlistGallery.addEventListener('click', onModalOpen);//вешаем 1 слушателя не родителя елементов которые мы вызываем\nblockPhotoBtnDack.addEventListener('click', onScrollingDack);\nblockPhotoBtnNext.addEventListener('click', onScrollingNext);\n"]}