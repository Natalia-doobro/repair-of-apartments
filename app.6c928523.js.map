{"version":3,"sources":["js/app.js"],"names":["galleryItems","preview","original","description","listLivingRoom","document","querySelector","listKitchen","listBalcony","listBathroom","listMounting","modal","modalImage","modalBtn","modalOverlay","blockPhotoBtnDack","blockPhotoBtnNext","blockPhotoImg","markup","acc","photo","reduce","onModalOpen","evt","preventDefault","target","nodeName","classList","add","src","dataset","source","alt","window","addEventListener","onEscKeyClick","onModalClose","remove","removeEventListener","console","log","code","onScrollingDack","imgSrc","map","elem","imgAlt","forEach","index","indexOf","onScrollingNext","reverse","insertAdjacentHTML"],"mappings":"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","file":"app.6c928523.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\n// добавляем разметку фото в галерею\nconst listLivingRoom = document.querySelector('.js-living-room'); \nconst listKitchen = document.querySelector('.js-kitchen'); \nconst listBalcony = document.querySelector('.js-balcony'); \nconst listBathroom = document.querySelector('.js-bathroom'); \nconst listMounting = document.querySelector('.js-mounting'); \n//-----------------------------------------------------------------------------------------------------------------------------------\nconst modal = document.querySelector('.lightbox'); \nconst modalImage = document.querySelector('.lightbox__image');\nconst modalBtn = document.querySelector('.lightbox__button');\nconst modalOverlay = document.querySelector('.lightbox__overlay');\nconst blockPhotoBtnDack = document.querySelector('.btn-back');\nconst blockPhotoBtnNext = document.querySelector('.btn-next');\nconst blockPhotoImg = document.querySelector(\".photo__img\")\n\n\nconst markup = (acc, { preview, original, description }) => acc + `<li class=\"photo__item\"><a class=\"photo__link\" href=${original}><img class=\"img photo__img\" src=${preview} data-source=${original} alt=${description} width=\"250\"></a></li>`;\nconst photo = galleryItems.reduce(markup, '');\n\nlistLivingRoom.insertAdjacentHTML('beforeend', photo);\nlistKitchen.insertAdjacentHTML('beforeend', photo);\nlistBalcony.insertAdjacentHTML('beforeend', photo);\nlistBathroom.insertAdjacentHTML('beforeend', photo);\nlistMounting.insertAdjacentHTML('beforeend', photo);\n\n//ДЕЛЕГИРОВАНИЕ\n\nfunction onModalOpen(evt) {\n  evt.preventDefault();\n  if (evt.target.nodeName !== 'IMG') { \n    return;\n  }\n  \n  //РАБОТА С МОДАЛЬНЫМ ОКНОМ\n  modal.classList.add('is-open');\n  modalImage.src = evt.target.dataset.source; \n  modalImage.alt = evt.target.alt;\n  \n  //------------------------------------------------------------------------------\n  window.addEventListener('keydown', onEscKeyClick);\n  modalBtn.addEventListener('click', onModalClose);\n  modalOverlay.addEventListener('click', onModalClose);\n};\n\nfunction onModalClose(evt) {\n  \n  modal.classList.remove('is-open');\n  modalImage.src = '';\n  modalImage.alt = '';\n\n  //------------------------------------------------------------------------------\n  window.removeEventListener('keydown', onEscKeyClick);\n  modalBtn.removeEventListener('click', onModalClose);\n  modalOverlay.removeEventListener('click', onModalClose);\n \n};\n\nfunction onEscKeyClick(evt) {\n  console.log(evt.code);\n  if (evt.code !== \"Escape\") {\n    return;\n  };\n  onModalClose();\n};\n\n//-------------------------------------------------------------------------------------------------------------------------------------\nfunction onScrollingDack(evt) {\n  const imgSrc = galleryItems.map(elem => elem.original);\n  const imgAlt = galleryItems.map(elem => elem.description);\n  imgSrc.forEach(elem => {\n      if (modalImage.src === elem) {\n        let index = imgSrc.indexOf(elem);\n        index = index - 1;\n        if (index !== -1) {\n          modalImage.src = imgSrc[index];\n          modalImage.alt = imgAlt[index];\n        } else {\n          onModalClose();\n        }\n      }\n    });\n};\n\nfunction onScrollingNext(evt) {\n  const imgSrc = galleryItems.map(elem => elem.original).reverse();\n  const imgAlt = galleryItems.map(elem => elem.description).reverse();\n\n  imgSrc.forEach(elem => {\n    if (modalImage.src === elem) {\n      let index = imgSrc.indexOf(elem);\n      index = index - 1;\n      console.log(index);\n      if (index !== -1) {\n        modalImage.src = imgSrc[index];\n        modalImage.alt = imgAlt[index];\n      } else {\n        onModalClose();\n      }\n    }\n  });\n};\n\n//-------------------------------------------------------------------------------------------------------------------------------------\n\nblockPhotoBtnDack.addEventListener('click', onScrollingDack);\nblockPhotoBtnNext.addEventListener('click', onScrollingNext);\n\nlistLivingRoom.addEventListener('click', onModalOpen);\nlistKitchen.addEventListener('click', onModalOpen);\nlistBalcony.addEventListener('click', onModalOpen);\nlistBathroom.addEventListener('click', onModalOpen);\nlistMounting.addEventListener('click', onModalOpen);"]}